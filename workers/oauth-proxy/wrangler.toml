# Cloudflare Workers 配置文件
# 用于 GitHub OAuth 代理

name = "nayuki-oauth-proxy"
main = "index.ts"
compatibility_date = "2024-01-01"

# 开发环境配置
[dev]
port = 8787
local_protocol = "http"

# 生产环境变量（敏感信息使用 wrangler secret put 命令设置）
# GITHUB_CLIENT_ID - GitHub OAuth App 的 Client ID
# GITHUB_CLIENT_SECRET - GitHub OAuth App 的 Client Secret

# 部署步骤：
# 1. 安装 wrangler: npm install -g wrangler
# 2. 登录 Cloudflare: wrangler login
# 3. 配置 secrets:
#    wrangler secret put GITHUB_CLIENT_ID
#    wrangler secret put GITHUB_CLIENT_SECRET
# 4. 部署: wrangler deploy
# 5. 记录 Worker URL 并配置到前端 VITE_OAUTH_PROXY_URL

# 自定义域名（可选）
# [routes]
# pattern = "oauth.yourdomain.com/*"
# zone_name = "yourdomain.com"

# 环境配置
[env.production]
name = "nayuki-oauth-proxy"

[env.staging]
name = "nayuki-oauth-proxy-staging"
